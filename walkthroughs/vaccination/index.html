
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs-v2.trinsic.id/walkthroughs/vaccination/">
      
      <link rel="icon" href="../../_static/logo.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Try the Walkthrough - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/vs.min.css">
    
      <link rel="stylesheet" href="../../_static/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#walkthrough" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
<p>Join <a href="https://trinsic.typeform.com/to/EIO26xym">Trinsic Ecosystems Beta!</a></p>

          </div>
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../_static/logo-title.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Try the Walkthrough
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M342.7 352.7c5.75-9.625 9.25-20.75 9.25-32.75 0-35.25-28.75-64-63.1-64-17.25 0-32.75 6.875-44.25 17.87-17.2-29.62-48.4-50.72-85.5-50.72-53 0-96 43.06-96 96.06 0 2 .503 3.687.628 5.687-37.5 13-64.62 48.38-64.62 90.25C-.005 468.1 42.99 512 95.99 512h239.1c44.25 0 79.1-35.75 79.1-80 .91-41.9-30.49-75.8-71.49-79.3zm222.5-54.3c-93 17.75-178.5-53.62-178.5-147.6 0-54.25 28.1-104 76.12-130.9 7.375-4.125 5.375-15.12-2.75-16.63C448.4 1.125 436.7 0 424.1 0 318.2 0 232.2 85.88 232.2 192c0 8.5.625 16.75 1.75 25 5.875 4.25 11.62 8.875 16.75 14.25 11.4-4.75 24.5-7.25 36.4-7.25 52.88 0 95.1 43.13 95.1 96 0 3.625-.25 7.25-.625 10.75 23.62 10.75 42.37 29.5 53.5 52.5 54.38-3.375 103.7-29.25 137.1-70.37 7.025-6.48 1.325-16.08-6.975-14.48z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1-42.1-96.9-95.1-96.9zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3c-10.927 1.9-16.156 14.6-9.824 22.8L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1 0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/trinsic-id/sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    trinsic-id/sdk
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../_static/logo-title.svg" alt="logo">

    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/trinsic-id/sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    trinsic-id/sdk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/intro/" class="md-nav__link">
        What is Trinsic?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../early-adopter/" class="md-nav__link">
        Before You Start
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Try the Walkthrough
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Try the Walkthrough
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#meet-allison" class="md-nav__link">
    Meet Allison
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-sdks" class="md-nav__link">
    Our SDKs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-accounts" class="md-nav__link">
    Creating Accounts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-a-template" class="md-nav__link">
    Define a Template
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-ecosystem" class="md-nav__link">
    Create an Ecosystem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issue-a-credential" class="md-nav__link">
    Issue a Credential
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-credential-to-allison" class="md-nav__link">
    Send Credential to Allison
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#store-credential-in-wallet" class="md-nav__link">
    Store Credential in Wallet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-proof-of-vaccination" class="md-nav__link">
    Create a Proof of Vaccination
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-proof" class="md-nav__link">
    Verify Proof
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-source-code" class="md-nav__link">
    Full Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps:
  </a>
  
    <nav class="md-nav" aria-label="Next Steps:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-applications" class="md-nav__link">
    Sample Applications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Key Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Key Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Key Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/security/" class="md-nav__link">
        Security Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/ecosystems/" class="md-nav__link">
        Identity Ecosystems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/wallets/" class="md-nav__link">
        Wallets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/credentials/" class="md-nav__link">
        Credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn/standards/" class="md-nav__link">
        Standards
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Developer Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developer Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        Trinsic CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Client-Side SDKs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Client-Side SDKs" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Client-Side SDKs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../web/" class="md-nav__link">
        Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ios/" class="md-nav__link">
        iOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Server-Side SDKs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Server-Side SDKs" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Server-Side SDKs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../node/" class="md-nav__link">
        Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dotnet/" class="md-nav__link">
        C#
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ruby/" class="md-nav__link">
        Ruby
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../go/" class="md-nav__link">
        Go
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../java/" class="md-nav__link">
        Java
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          SDK Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SDK Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          SDK Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/account-service/" class="md-nav__link">
        Account Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/wallet-service/" class="md-nav__link">
        Wallet Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/credential-service/" class="md-nav__link">
        Credential Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/provider-service/" class="md-nav__link">
        Provider Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/trust-registry-service/" class="md-nav__link">
        Trust Registry Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/proto/" class="md-nav__link">
        Protocol Buffers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../support/" class="md-nav__link">
        Ask a Question
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://join.slack.com/t/trinsiccommunity/shared_invite/zt-pcsdy7kn-h4vtdPEpqQUlmirU8FFzSQ" class="md-nav__link">
        Join the Community
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/trinsic-id" class="md-nav__link">
        Contribute on GitHub
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#meet-allison" class="md-nav__link">
    Meet Allison
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-sdks" class="md-nav__link">
    Our SDKs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-accounts" class="md-nav__link">
    Creating Accounts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-a-template" class="md-nav__link">
    Define a Template
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-ecosystem" class="md-nav__link">
    Create an Ecosystem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issue-a-credential" class="md-nav__link">
    Issue a Credential
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-credential-to-allison" class="md-nav__link">
    Send Credential to Allison
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#store-credential-in-wallet" class="md-nav__link">
    Store Credential in Wallet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-proof-of-vaccination" class="md-nav__link">
    Create a Proof of Vaccination
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-proof" class="md-nav__link">
    Verify Proof
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-source-code" class="md-nav__link">
    Full Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps:
  </a>
  
    <nav class="md-nav" aria-label="Next Steps:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-applications" class="md-nav__link">
    Sample Applications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
  
                
<a href="https://github.com/trinsic-id/sdk/edit/main/docs/walkthroughs/vaccination.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
</a>



<h1 id="walkthrough">Walkthrough<a class="headerlink" href="#walkthrough" title="Permanent link">&para;</a></h1>
<p>This walkthrough will show how a vaccination card can be issued, held, and proven using verifiable credentials with the Trinsic CLI. Feel free to follow along in a terminal using the CLI. We'll cover each part of Trinsic's platform during the tutorial. </p>
<h2 id="meet-allison">Meet Allison<a class="headerlink" href="#meet-allison" title="Permanent link">&para;</a></h2>
<p>In this walkthrough we'll explore a scenario where Allison gets her vaccination certificate. She then uses this certificate to board an airline that requires proof of vaccination.</p>
<!-- ```mermaid
journey
    section Issuance
      Obtain cert.: 3: Allison, Clinic
      Store in wallet: 3: Allison
    section Verification
      Request cert.: 3: Allison, Airline
      Share: 3: Allison
      Verify: 5: Airline
``` -->

<p>In most credential exchange scenarios there are three primary roles - Issuer, Holder, and Verifier.</p>
<p><strong>Holder</strong>: Stores issued credentials from an issuer. Most often this is the credential subject. Also generates passes to share with verifiers.</p>
<p><strong>Issuer</strong>: Responsible for issuing signed credentials that attest information about a credential subject</p>
<p><strong>Verifier</strong>: Verifies passes presented from holders.</p>
<p>In this case, Allison will be the holder, a vaccination clinic will be an issuer, and an airline will be the verifier. 
<div class="highlight"><pre><span></span><code>walkthrough
|- allison - Holder
|- clinic - Issuer
|- airline - Verifier
</code></pre></div></p>
<h2 id="our-sdks">Our SDKs<a class="headerlink" href="#our-sdks" title="Permanent link">&para;</a></h2>
<p>This tutorial is meant to share the concepts of verifiable credentials. So feel free to sit back and read through this without running any code. However, you can also follow along using one of our SDKs. </p>
<p>We've set up some environments to use on Repl.it. If your language of choice isn't supported on repl.it, you can also run locally by installing the SDK of your choice.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:7"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><input id="__tabbed_1_7" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Trinsic CLI</label><label for="__tabbed_1_2">TypeScript</label><label for="__tabbed_1_3">C#</label><label for="__tabbed_1_4">Python</label><label for="__tabbed_1_5">Java</label><label for="__tabbed_1_6">Ruby</label><label for="__tabbed_1_7">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><a href="/cli/" target="_blank">Installation instructions</a> for the Trinsic CLI.</li>
</ul>
<p>Once the CLI is installed, clone our CLI example repository on Github to download the credential data for this walkthrough.</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/trinsic-id/cli-example &amp;&amp; cd cli-example
</code></pre></div>
<p>If you don't want to install locally, we also have a replit environment for you to use. In a new tab, you can open our <!--<a href="./demo.md">demo environment</a>--> to use the CLI. This demo environment works best when run side-by-side the following walkthrough using two tabs in your browser.</p>
</div>
<div class="tabbed-block">
<ul>
<li><a href="/node/" target="_blank">Installation instructions</a> for the Node SDK.</li>
<li><a href="/web/" target="_blank">Installation instructions</a> for the Browser SDk.</li>
</ul>
</div>
<div class="tabbed-block">
<p>Let's create a new .NET console app that we will use to add our sample code</p>
<div class="highlight"><pre><span></span><code>dotnet new console -n TrinsicSample <span class="o">&amp;&amp;</span> <span class="nb">cd</span> TrinsicSample
</code></pre></div>
<p>Now we'll follow the <a href="/dotnet/" target="_blank">installation instructions</a> for Dotnet.</p>
</div>
<div class="tabbed-block">
<ul>
<li><a href="/python/" target="_blank">Installation instructions</a> for Python.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><a href="/java/" target="_blank">Installation instructions</a> for Java.</li>
</ul>
<p>In this project, we'll be following along the <a href="https://github.com/trinsic-id/sdk/blob/main/java/src/test/java/trinsic/VaccineDemo.java"><code>java/src/test/java/trinsic/VaccineDemo.java</code></a> in our <a href="https://github.com/trinsic-id/sdk">SDK repository</a></p>
</div>
<div class="tabbed-block">
<ul>
<li><a href="../../ruby/">Install Instructions</a> </li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><a href="../../go/">Install Instructions</a></li>
</ul>
</div>
</div>
</div>
<hr />
<h2 id="creating-accounts">Creating Accounts<a class="headerlink" href="#creating-accounts" title="Permanent link">&para;</a></h2>
<p>We'll start by creating a Trinsic Wallet for each participant in this credential exchange. Wallets can be created by anyone, for anyone. In this scenario, we'll have three wallets. Allison will be the credential holder, the Airline will be the verifier, and the vaccination clinic will be the issuer.</p>
<p>When a new Trinsic account is created, a cloud wallet is created on our platform and an authentication key is generated by our SDK locally. Each person is the sole owner of their cloud wallet. They're meant to be easy to create so that you can create a cloud wallet for an end-user in your UX with very little friction. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:6"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><input id="__tabbed_2_5" name="__tabbed_2" type="radio" /><input id="__tabbed_2_6" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Trinsic CLI</label><label for="__tabbed_2_2">Typescript</label><label for="__tabbed_2_3">C#</label><label for="__tabbed_2_4">Python</label><label for="__tabbed_2_5">Java</label><label for="__tabbed_2_6">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The CLI offers an interactive way of creating wallets. For demo purposes, we'll create all three on the same machine. However, this demo could be done with all three wallets created on three separate machines.</p>
<p>When creating a wallet in the CLI, the wallet will store a private authentication token for the wallet in ~/.trinsic. If using the CLI with a real-world wallet, store this authentication token somewhere securely. 
<div class="highlight"><pre><span></span><code>trinsic account login --description <span class="s2">&quot;Allison&#39;s Wallet&quot;</span> --alias allison <span class="o">&amp;&amp;</span> <span class="se">\</span>
trinsic account login --description <span class="s2">&quot;Airline&#39;s wallet&quot;</span> --alias airline <span class="o">&amp;&amp;</span> <span class="se">\</span>
trinsic account login --description <span class="s2">&quot;Vaccination Clinic&quot;</span> --alias clinic
</code></pre></div></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Create 3 different profiles for each participant in the scenario</span>
<span class="kd">const</span> <span class="nx">allison</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">accountService</span><span class="p">.</span><span class="nx">signIn</span><span class="p">(</span><span class="ow">new</span> <span class="nx">SignInRequest</span><span class="p">());</span>
<span class="kd">const</span> <span class="nx">clinic</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">accountService</span><span class="p">.</span><span class="nx">signIn</span><span class="p">(</span><span class="ow">new</span> <span class="nx">SignInRequest</span><span class="p">());</span>
<span class="kd">const</span> <span class="nx">airline</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">accountService</span><span class="p">.</span><span class="nx">signIn</span><span class="p">(</span><span class="ow">new</span> <span class="nx">SignInRequest</span><span class="p">());</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">allison</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">accountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">EcosystemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ecosystemId</span><span class="p">});</span><span class="w"></span>
<span class="kt">var</span><span class="w"> </span><span class="n">clinic</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">accountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">EcosystemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ecosystemId</span><span class="p">});</span><span class="w"></span>
<span class="kt">var</span><span class="w"> </span><span class="n">airline</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">accountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">EcosystemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ecosystemId</span><span class="p">});</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Create 3 different profiles for each participant in the scenario</span>
<span class="n">allison</span> <span class="o">=</span> <span class="k">await</span> <span class="n">account_service</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">SignInRequest</span><span class="p">(</span><span class="n">ecosystem_id</span><span class="o">=</span><span class="n">ecosystem_id</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">clinic</span> <span class="o">=</span> <span class="k">await</span> <span class="n">account_service</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">SignInRequest</span><span class="p">(</span><span class="n">ecosystem_id</span><span class="o">=</span><span class="n">ecosystem_id</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">airline</span> <span class="o">=</span> <span class="k">await</span> <span class="n">account_service</span><span class="o">.</span><span class="n">sign_in</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">SignInRequest</span><span class="p">(</span><span class="n">ecosystem_id</span><span class="o">=</span><span class="n">ecosystem_id</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Create 3 different profiles for each participant in the scenario</span>
<span class="kd">var</span> <span class="n">allison</span> <span class="o">=</span> <span class="n">accountService</span><span class="p">.</span><span class="na">signIn</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
<span class="kd">var</span> <span class="n">clinic</span> <span class="o">=</span> <span class="n">accountService</span><span class="p">.</span><span class="na">signIn</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
<span class="kd">var</span> <span class="n">airline</span> <span class="o">=</span> <span class="n">accountService</span><span class="p">.</span><span class="na">signIn</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">allison</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">accountService</span><span class="p">.</span><span class="nx">SignIn</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">SignInRequest</span><span class="p">{})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error creating profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">assert2</span><span class="p">.</span><span class="nx">NotNil</span><span class="p">(</span><span class="nx">allison</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">clinic</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">accountService</span><span class="p">.</span><span class="nx">SignIn</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">SignInRequest</span><span class="p">{})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error creating profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">assert2</span><span class="p">.</span><span class="nx">NotNil</span><span class="p">(</span><span class="nx">clinic</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">airline</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">accountService</span><span class="p">.</span><span class="nx">SignIn</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">SignInRequest</span><span class="p">{})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error creating profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">assert2</span><span class="p">.</span><span class="nx">NotNil</span><span class="p">(</span><span class="nx">airline</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<p>If you would like to save the profile for future use, you can simply export the serialized profile to a local storage. Please note that the profiles contain sensitive key data, so they should be stored in a secure enclave.</p>
<!-- === "Typescript" 

    <div class="highlight"><pre><span></span><code><span class="p">[</span><span class="nx">Setup</span> <span class="nx">Wallets</span><span class="p">](..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">/</span><span class="nx">test</span><span class="o">/</span><span class="nx">VaccineDemo</span><span class="p">.</span><span class="nx">ts</span><span class="p">)</span> <span class="nx">inside_block</span><span class="o">:</span><span class="nx">storeAndRecallProfile</span>
</code></pre></div>

-->

<div class="tabbed-set tabbed-alternate" data-tabs="3:4"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">C#</label><label for="__tabbed_3_2">Python</label><label for="__tabbed_3_3">Java</label><label for="__tabbed_3_4">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Serialize auth token by exporting it to file</span>
<span class="n">File</span><span class="p">.</span><span class="n">WriteAllText</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">allison</span><span class="p">);</span><span class="w"></span>
<span class="c1">// Create auth token from existing data</span>
<span class="n">allison</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllText</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Store profile for later use</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;allison.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
    <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">allison</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="c1"># Create profile from existing data</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;allison.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
    <span class="n">allison</span> <span class="o">=</span> <span class="n">fid</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="n">writeFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="p">(</span><span class="k">new</span> <span class="n">FileWriter</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">));</span>
<span class="n">writeFile</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">allison</span><span class="p">);</span>
<span class="n">writeFile</span><span class="p">.</span><span class="na">flush</span><span class="p">();</span>
<span class="n">writeFile</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>

<span class="c1">// Create profile from existing data</span>
<span class="kd">var</span> <span class="n">readFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">));</span>
<span class="n">allison</span> <span class="o">=</span> <span class="n">readFile</span><span class="p">.</span><span class="na">readLine</span><span class="p">().</span><span class="na">strip</span><span class="p">();</span>
<span class="n">readFile</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Store profile for later use</span><span class="w"></span>
<span class="c1">// File.WriteAllBytes(&quot;allison.bin&quot;, allison.ToByteString().ToByteArray());</span><span class="w"></span>

<span class="c1">// Create profile from existing data</span><span class="w"></span>
<span class="c1">// var allison = WalletProfile.Parser.ParseFrom(File.ReadAllBytes(&quot;allison.bin&quot;));</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>References: </p>
<ul>
<li>Manage access to cloud wallets with the <a href="../../reference/services/account-service/#login">Account Service</a></li>
<li>Learn more about <a href="../../learn/wallets/">Wallets</a></li>
<li>Read more about <a href="../../reference/#authorization">security profiles</a> and authentication.</li>
</ul>
</div>
<hr />
<h2 id="define-a-template">Define a Template<a class="headerlink" href="#define-a-template" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="4:5"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><input id="__tabbed_4_5" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Trinsic CLI</label><label for="__tabbed_4_2">Typescript</label><label for="__tabbed_4_3">C#</label><label for="__tabbed_4_4">Python</label><label for="__tabbed_4_5">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">credentialTemplateName</span> <span class="o">=</span> <span class="s2">&quot;My First Credential Template&quot;</span><span class="p">;</span>
<span class="kd">var</span>  <span class="nx">nameField</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">TemplateField</span><span class="p">();</span>
<span class="nx">nameField</span><span class="p">.</span><span class="nx">setType</span><span class="p">(</span><span class="nx">FieldType</span><span class="p">.</span><span class="nx">STRING</span><span class="p">);</span>
<span class="nx">nameField</span><span class="p">.</span><span class="nx">setDescription</span><span class="p">(</span><span class="s2">&quot;The name of the person&quot;</span><span class="p">);</span>
<span class="nx">nameField</span><span class="p">.</span><span class="nx">setOptional</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="kd">var</span>  <span class="nx">numberOfBags</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">TemplateField</span><span class="p">();</span>
<span class="nx">numberOfBags</span><span class="p">.</span><span class="nx">setType</span><span class="p">(</span><span class="nx">FieldType</span><span class="p">.</span><span class="nx">NUMBER</span><span class="p">);</span>
<span class="nx">numberOfBags</span><span class="p">.</span><span class="nx">setDescription</span><span class="p">(</span><span class="s2">&quot;The number of bags the person is taking on the trip&quot;</span><span class="p">);</span>
<span class="nx">numberOfBags</span><span class="p">.</span><span class="nx">setOptional</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="kd">var</span>  <span class="nx">dateOfBirth</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">TemplateField</span><span class="p">();</span>
<span class="nx">dateOfBirth</span><span class="p">.</span><span class="nx">setType</span><span class="p">(</span><span class="nx">FieldType</span><span class="p">.</span><span class="nx">DATETIME</span><span class="p">);</span>
<span class="nx">dateOfBirth</span><span class="p">.</span><span class="nx">setDescription</span><span class="p">(</span><span class="s2">&quot;The date of birth of the person&quot;</span><span class="p">);</span>
<span class="nx">dateOfBirth</span><span class="p">.</span><span class="nx">setOptional</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="kd">var</span>  <span class="nx">isVaccinated</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">TemplateField</span><span class="p">();</span>
<span class="nx">isVaccinated</span><span class="p">.</span><span class="nx">setType</span><span class="p">(</span><span class="nx">FieldType</span><span class="p">.</span><span class="nx">BOOL</span><span class="p">);</span>
<span class="nx">isVaccinated</span><span class="p">.</span><span class="nx">setDescription</span><span class="p">(</span><span class="s2">&quot;Whether or not the person has been vaccinated&quot;</span><span class="p">);</span>
<span class="nx">isVaccinated</span><span class="p">.</span><span class="nx">setOptional</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">const</span> <span class="nx">templateService</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">TemplateService</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">CreateCredentialTemplateRequest</span><span class="p">();</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="nx">credentialTemplateName</span><span class="p">);</span> 

<span class="nx">request</span><span class="p">.</span><span class="nx">getFieldsMap</span><span class="p">()</span>
<span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nx">nameField</span><span class="p">)</span>
<span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;numberOfBags&quot;</span><span class="p">,</span> <span class="nx">numberOfBags</span><span class="p">)</span>
<span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;dateOfBirth&quot;</span><span class="p">,</span> <span class="nx">dateOfBirth</span><span class="p">)</span>
<span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;vaccinated&quot;</span><span class="p">,</span> <span class="nx">isVaccinated</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">templateService</span><span class="p">.</span><span class="nx">createCredentialTemplate</span><span class="p">(</span><span class="nx">request</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CreateCredentialTemplateRequest</span><span class="w"> </span><span class="n">templateRequest</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;An Example Credential&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">AllowAdditionalFields</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">false</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
<span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;firstName&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Description</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Given name&quot;</span><span class="p">});</span><span class="w"></span>
<span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;lastName&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">FieldType</span><span class="p">.</span><span class="n">Number</span><span class="p">,</span><span class="w"> </span><span class="n">Optional</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="p">});</span><span class="w"></span>

<span class="kt">var</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">templateService</span><span class="p">.</span><span class="n">CreateAsync</span><span class="p">(</span><span class="n">templateRequest</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">template</span> <span class="o">=</span> <span class="k">await</span> <span class="n">template_service</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">CreateCredentialTemplateRequest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;An Example Credential&quot;</span><span class="p">,</span>
        <span class="n">allow_additional_fields</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;firstName&quot;</span><span class="p">:</span> <span class="n">TemplateField</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Given name&quot;</span><span class="p">),</span>
            <span class="s2">&quot;lastName&quot;</span><span class="p">:</span> <span class="n">TemplateField</span><span class="p">(),</span>
            <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="n">TemplateField</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">FieldType</span><span class="o">.</span><span class="n">NUMBER</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">trinsic</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.okapi.DidException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.services.AccountService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.services.CredentialTemplateService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.services.CredentialsService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.services.verifiablecredentials.templates.v1.Templates</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">trinsic.services.verifiablecredentials.v1.VerifiableCredentials</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutionException</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TemplatesDemo</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="p">,</span> <span class="n">DidException</span><span class="p">,</span> <span class="n">ExecutionException</span><span class="p">,</span> <span class="n">InterruptedException</span> <span class="p">{</span>
        <span class="n">run</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="p">,</span> <span class="n">DidException</span><span class="p">,</span> <span class="n">ExecutionException</span><span class="p">,</span> <span class="n">InterruptedException</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="n">accountService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AccountService</span><span class="p">(</span><span class="n">TrinsicUtilities</span><span class="p">.</span><span class="na">getTrinsicServiceOptions</span><span class="p">());</span>
        <span class="kd">var</span> <span class="n">account</span> <span class="o">=</span> <span class="n">accountService</span><span class="p">.</span><span class="na">signIn</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
        <span class="kd">var</span> <span class="n">templateService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CredentialTemplateService</span><span class="p">(</span><span class="n">TrinsicUtilities</span><span class="p">.</span><span class="na">getTrinsicServiceOptions</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
        <span class="kd">var</span> <span class="n">credentialService</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CredentialsService</span><span class="p">(</span><span class="n">TrinsicUtilities</span><span class="p">.</span><span class="na">getTrinsicServiceOptions</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>

        <span class="c1">// create example template</span>
        <span class="kd">var</span> <span class="n">fields</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Templates</span><span class="p">.</span><span class="na">TemplateField</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">fields</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;firstName&quot;</span><span class="p">,</span> <span class="n">Templates</span><span class="p">.</span><span class="na">TemplateField</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setDescription</span><span class="p">(</span><span class="s">&quot;Given name&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">());</span>
        <span class="n">fields</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;lastName&quot;</span><span class="p">,</span> <span class="n">Templates</span><span class="p">.</span><span class="na">TemplateField</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">build</span><span class="p">());</span>
        <span class="n">fields</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">,</span> <span class="n">Templates</span><span class="p">.</span><span class="na">TemplateField</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setType</span><span class="p">(</span><span class="n">Templates</span><span class="p">.</span><span class="na">FieldType</span><span class="p">.</span><span class="na">NUMBER</span><span class="p">).</span><span class="na">setOptional</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="na">build</span><span class="p">());</span>
        <span class="kd">var</span> <span class="n">templateRequest</span> <span class="o">=</span> <span class="n">Templates</span><span class="p">.</span><span class="na">CreateCredentialTemplateRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;My Example Credential&quot;</span><span class="p">).</span><span class="na">setAllowAdditionalFields</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">putAllFields</span><span class="p">(</span><span class="n">fields</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
        <span class="kd">var</span> <span class="n">template</span> <span class="o">=</span> <span class="n">templateService</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">templateRequest</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

        <span class="k">assert</span> <span class="n">template</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">assert</span> <span class="n">template</span><span class="p">.</span><span class="na">hasData</span><span class="p">();</span>
        <span class="k">assert</span> <span class="o">!</span><span class="n">template</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">getId</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">();</span>
        <span class="k">assert</span> <span class="o">!</span><span class="n">template</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">getSchemaUri</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">();</span>

        <span class="c1">// issue credential from this template</span>
        <span class="kd">var</span> <span class="n">valuesMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">valuesMap</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;firstName&quot;</span><span class="p">,</span> <span class="s">&quot;Jane&quot;</span><span class="p">);</span>
        <span class="n">valuesMap</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;lastName&quot;</span><span class="p">,</span> <span class="s">&quot;Doe&quot;</span><span class="p">);</span>
        <span class="n">valuesMap</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
        <span class="kd">var</span> <span class="n">valuesJson</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="p">().</span><span class="na">toJson</span><span class="p">(</span><span class="n">valuesMap</span><span class="p">);</span>
        <span class="kd">var</span> <span class="n">credentialJson</span> <span class="o">=</span> <span class="n">credentialService</span><span class="p">.</span><span class="na">issueCredentialFromTemplate</span><span class="p">(</span><span class="n">VerifiableCredentials</span><span class="p">.</span><span class="na">IssueFromTemplateRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setTemplateId</span><span class="p">(</span><span class="n">template</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">getId</span><span class="p">()).</span><span class="na">setValuesJson</span><span class="p">(</span><span class="n">valuesJson</span><span class="p">).</span><span class="na">build</span><span class="p">()).</span><span class="na">get</span><span class="p">();</span>
        <span class="k">assert</span> <span class="n">credentialJson</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">assert</span> <span class="o">!</span><span class="n">credentialJson</span><span class="p">.</span><span class="na">getDocumentJson</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">();</span>

        <span class="kd">var</span> <span class="n">jsonDocument</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="p">().</span><span class="na">fromJson</span><span class="p">(</span><span class="n">credentialJson</span><span class="p">.</span><span class="na">getDocumentJson</span><span class="p">(),</span> <span class="n">HashMap</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="k">assert</span> <span class="n">jsonDocument</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">);</span>
        <span class="k">assert</span> <span class="n">jsonDocument</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="s">&quot;credentialSubject&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="create-an-ecosystem">Create an Ecosystem<a class="headerlink" href="#create-an-ecosystem" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="5:4"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><input id="__tabbed_5_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Trinsic CLI</label><label for="__tabbed_5_2">Typescript</label><label for="__tabbed_5_3">C#</label><label for="__tabbed_5_4">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
<div class="tabbed-block"></div>
<div class="tabbed-block"></div>
<div class="tabbed-block"></div>
</div>
</div>
<p>=== "Java" --&gt;</p>
<h2 id="issue-a-credential">Issue a Credential<a class="headerlink" href="#issue-a-credential" title="Permanent link">&para;</a></h2>
<p>Upon receiving her vaccine, Allison also receives a digital certificate from the clinic. This certificate is digitally signed by the clinic, acting as an issuer.
The certificate is in a JSON form, and for this example, we will use the following JSON. Add this file to your project named <code>vaccination-certificate-unsigned.jsonld</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">vaccination-certificate-unsigned.jsonld</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;@context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://www.w3.org/2018/credentials/v1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://w3id.org/vaccination/v1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://w3id.org/security/bbs/v1&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;urn:uvci:af5vshde843jf831j128fj&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;VaccinationCertificate&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;VerifiableCredential&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;COVID-19 Vaccination Certificate&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;COVID-19 Vaccination Certificate&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;expirationDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2029-12-03T12:19:52Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;issuanceDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-12-03T12:19:52Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;issuer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;did:key:zUC724vuGvHpnCGFG1qqpXb81SiBLu3KLSqVzenwEZNPoY35i2Bscb8DLaVwHvRFs6F2NkNNXRcPWvqnPDUd9ukdjLkjZd3u9zzL4wDZDUpkPAatLDGLEYVo8kkAzuAKJQMr7N2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;credentialSubject&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;urn:uuid:c53e70f8-ce9a-4576-8744-e5f85c20a743&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VaccinationEvent&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;batchNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1183738569&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;countryOfVaccination&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Behind the scenes, each credential is a JSON document that is signed with a special digital signature to make each piece of data in the credential separately verifiable.</p>
<p>Signatures are a way to make sure that credentials are not forged or tampered with between getting issued and verified. They also are how a verifier can know that the credential was issued by who the credential says it was issued by.</p>
<p>To issue this credential we'll specify links to the json files, set the active profile to the clinic, and call the issuance endpoint:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:6"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><input id="__tabbed_7_4" name="__tabbed_7" type="radio" /><input id="__tabbed_7_5" name="__tabbed_7" type="radio" /><input id="__tabbed_7_6" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Trinsic CLI</label><label for="__tabbed_7_2">Typescript</label><label for="__tabbed_7_3">C#</label><label for="__tabbed_7_4">Python</label><label for="__tabbed_7_5">Java</label><label for="__tabbed_7_6">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>trinsic  --profile clinic issuer issue --document data/vaccination-certificate-unsigned.json --out vaccination-certificate-signed.json
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Sign a credential as the clinic and send it to Allison</span>
<span class="kd">const</span> <span class="nx">credentialJson</span> <span class="o">=</span> <span class="nx">getVaccineCertUnsignedJSON</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">credential</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">credentialService</span><span class="p">.</span><span class="nx">issueCredential</span><span class="p">(</span><span class="ow">new</span> <span class="nx">IssueRequest</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">setDocumentJson</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">credentialJson</span><span class="p">)));</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">// Set active profile to &#39;clinic&#39; so we can issue credential signed</span>
<span class="w">    </span><span class="c1">// with the clinic&#39;s signing keys</span>
<span class="w">    </span><span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">clinic</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Read the JSON credential data</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">credentialJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllTextAsync</span><span class="p">(</span><span class="n">VaccinationCertificateUnsigned</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Sign the credential using BBS+ signature scheme</span>
<span class="w">    </span><span class="c1">// issueCredentialSample() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">credential</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">IssueCredentialAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">DocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialJson</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Credential:\n{credential.SignedDocumentJson}&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="c1">// storeAndRecallProfile {</span>
<span class="w">    </span><span class="c1">// Serialize auth token by exporting it to file</span>
<span class="w">    </span><span class="n">File</span><span class="p">.</span><span class="n">WriteAllText</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">allison</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Create auth token from existing data</span>
<span class="w">    </span><span class="n">allison</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllText</span><span class="p">(</span><span class="s">&quot;allison.txt&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="c1">// STORE CREDENTIAL</span>
<span class="w">    </span><span class="c1">// Allison stores the credential in her cloud wallet.</span>
<span class="w">    </span><span class="c1">// storeCredential() {</span>
<span class="w">    </span><span class="c1">// Set active profile to &#39;allison&#39; so we can manage her cloud wallet</span>
<span class="w">    </span><span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">allison</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">InsertItemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">ItemJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credential</span><span class="p">.</span><span class="n">SignedDocumentJson</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">itemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="p">.</span><span class="n">ItemId</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// searchWallet() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">walletItems</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">SearchAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>
<span class="w">    </span><span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Last wallet item:\n{walletItems.Items.Last()}&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// searchWalletSQL() { </span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">walletItems2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">SearchAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Query</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;SELECT c.id, c.type, c.data FROM c WHERE c.type = &#39;VerifiableCredential&#39;&quot;</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="c1">// SHARE CREDENTIAL</span>
<span class="w">    </span><span class="c1">// Allison shares the credential with the venue.</span>
<span class="w">    </span><span class="c1">// The venue has communicated with Allison the details of the credential</span>
<span class="w">    </span><span class="c1">// that they require expressed as a JSON-LD frame.</span>
<span class="w">    </span><span class="c1">// shareCredential() {</span>
<span class="w">    </span><span class="c1">// We&#39;ll read the request frame from a file and communicate this with Allison</span>
<span class="w">    </span><span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">allison</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllTextAsync</span><span class="p">(</span><span class="n">VaccinationCertificateFrame</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Build a proof for the given request and the `itemId` we previously received</span>
<span class="w">    </span><span class="c1">// which points to the stored credential</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">credentialProof</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">CreateProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ItemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">itemId</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">RevealDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Proof:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>


<span class="w">    </span><span class="c1">// VERIFY CREDENTIAL</span>
<span class="w">    </span><span class="c1">// verifyCredential() {</span>
<span class="w">    </span><span class="c1">// The airline verifies the credential</span>
<span class="w">    </span><span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">airline</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Check for valid signature</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">VerifyProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ProofDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Verification result: {valid.IsValid}&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">True</span><span class="p">(</span><span class="n">valid</span><span class="p">.</span><span class="n">IsValid</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact(DisplayName = &quot;Demo: trust registries&quot;)]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">TestTrustRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// setup</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">providerService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">Clone</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">authToken</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">providerService</span><span class="p">.</span><span class="n">CreateEcosystemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TrustRegistryService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">CloneWithAuthToken</span><span class="p">(</span><span class="n">authToken</span><span class="p">));</span><span class="w"></span>

<span class="w">    </span><span class="c1">// register issuer</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">register</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">RegisterIssuerAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DidUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;did:example:test&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">GovernanceFrameworkUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">CredentialTypeUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://schema.org/Card&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">register</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">register</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">register</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Be</span><span class="p">(</span><span class="n">TaskStatus</span><span class="p">.</span><span class="n">RanToCompletion</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// register verifier</span>
<span class="w">    </span><span class="n">register</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">RegisterVerifierAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DidUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;did:example:test&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">GovernanceFrameworkUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">PresentationTypeUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://schema.org/Card&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">register</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">register</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">register</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Be</span><span class="p">(</span><span class="n">TaskStatus</span><span class="p">.</span><span class="n">RanToCompletion</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// check issuer status</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">issuerStatus</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">CheckIssuerStatusAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DidUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;did:example:test&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">GovernanceFrameworkUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">CredentialTypeUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://schema.org/Card&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="n">issuerStatus</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">issuerStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Be</span><span class="p">(</span><span class="n">RegistrationStatus</span><span class="p">.</span><span class="n">Current</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// check verifier status</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">verifierStatus</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">CheckVerifierStatusAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DidUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;did:example:test&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">GovernanceFrameworkUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">PresentationTypeUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://schema.org/Card&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="n">verifierStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Be</span><span class="p">(</span><span class="n">RegistrationStatus</span><span class="p">.</span><span class="n">Current</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// search registry</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">searchResult</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">SearchRegistryAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>

<span class="w">    </span><span class="n">searchResult</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">searchResult</span><span class="p">.</span><span class="n">ItemsJson</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">().</span><span class="n">And</span><span class="p">.</span><span class="n">NotBeEmpty</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact(DisplayName = &quot;Demo: ecosystem creation and listing&quot;)]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">EcosystemTests</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// setup</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">accountService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountService</span><span class="p">(</span><span class="n">_options</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">accountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">CloneWithAuthToken</span><span class="p">(</span><span class="n">account</span><span class="p">));</span><span class="w"></span>

<span class="w">    </span><span class="c1">// test create ecosystem</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">actualCreate</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">service</span><span class="p">.</span><span class="n">CreateEcosystemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">Description</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;My ecosystem&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">Uri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="n">actualCreate</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">actualCreate</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">actualCreate</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">StartWith</span><span class="p">(</span><span class="s">&quot;urn:trinsic:ecosystems:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">TestProtectUnprotectProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// testSignInAndGetInfo() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myAccountService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountService</span><span class="p">(</span><span class="n">_options</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myProfile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">myProfile</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">GetInfoAsync</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="n">output</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">securityCode</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;1234&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myProtectedProfile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">AccountService</span><span class="p">.</span><span class="n">Protect</span><span class="p">(</span><span class="n">myProfile</span><span class="p">,</span><span class="w"> </span><span class="n">securityCode</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">myProtectedProfile</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">Assert</span><span class="p">.</span><span class="n">ThrowsAsync</span><span class="p">&lt;</span><span class="n">Exception</span><span class="p">&gt;(</span><span class="n">myAccountService</span><span class="p">.</span><span class="n">GetInfoAsync</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myUnprotectedProfile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">AccountService</span><span class="p">.</span><span class="n">Unprotect</span><span class="p">(</span><span class="n">myProtectedProfile</span><span class="p">,</span><span class="w"> </span><span class="n">securityCode</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">myUnprotectedProfile</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">GetInfoAsync</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="n">myAccountService</span><span class="p">.</span><span class="n">GetInfo</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">TestInvitationIdSet</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">providerService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">Clone</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">providerService</span><span class="p">.</span><span class="n">CreateEcosystemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">invitationResponse</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">providerService</span><span class="p">.</span><span class="n">InviteParticipantAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>

<span class="w">    </span><span class="n">invitationResponse</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">invitationResponse</span><span class="p">.</span><span class="n">InvitationCode</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeEmpty</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">Assert</span><span class="p">.</span><span class="n">ThrowsAsync</span><span class="p">&lt;</span><span class="n">Exception</span><span class="p">&gt;(</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">providerService</span><span class="p">.</span><span class="n">InvitationStatusAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()));</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact(Skip = &quot;Ecosystem support not complete yet&quot;)]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">TestInviteParticipant</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myAccountService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountService</span><span class="p">(</span><span class="n">_options</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myProfile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myProviderService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">CloneWithAuthToken</span><span class="p">(</span><span class="n">myProfile</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">invite</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InviteRequest</span><span class="w"> </span><span class="p">{</span><span class="n">Description</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Test invitation&quot;</span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myProviderService</span><span class="p">.</span><span class="n">InviteParticipantAsync</span><span class="p">(</span><span class="n">invite</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">statusResponse</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myProviderService</span><span class="p">.</span><span class="n">InvitationStatusAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">InvitationId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">InvitationId</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="n">statusResponse</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">TestGovernanceFrameworkUriParse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myAccountService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountService</span><span class="p">(</span><span class="n">_options</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myProfile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myAccountService</span><span class="p">.</span><span class="n">SignInAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">myTrustRegistryService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TrustRegistryService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">CloneWithAuthToken</span><span class="p">(</span><span class="n">myProfile</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">Assert</span><span class="p">.</span><span class="n">ThrowsAsync</span><span class="p">&lt;</span><span class="n">Exception</span><span class="p">&gt;(</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">myTrustRegistryService</span><span class="p">.</span><span class="n">RegisterGovernanceFrameworkAsync</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">GovernanceFramework</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">Description</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;invalid uri&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">GovernanceFrameworkUri</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}));</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact(DisplayName = &quot;Demo: template management and credential issuance from template&quot;)]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">DemoTemplatesWithIssuance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">providerService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderService</span><span class="p">(</span><span class="n">_options</span><span class="p">.</span><span class="n">Clone</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">authToken</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">providerService</span><span class="p">.</span><span class="n">CreateEcosystemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">_options</span><span class="p">.</span><span class="n">CloneWithAuthToken</span><span class="p">(</span><span class="n">authToken</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">templateService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TemplateService</span><span class="p">(</span><span class="n">options</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">credentialService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CredentialsService</span><span class="p">(</span><span class="n">options</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">walletService</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WalletService</span><span class="p">(</span><span class="n">options</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// create example template</span>
<span class="w">    </span><span class="c1">// createTemplate() {</span>
<span class="w">    </span><span class="n">CreateCredentialTemplateRequest</span><span class="w"> </span><span class="n">templateRequest</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">Name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;An Example Credential&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">AllowAdditionalFields</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">false</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;firstName&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Description</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Given name&quot;</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;lastName&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="n">templateRequest</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">FieldType</span><span class="p">.</span><span class="n">Number</span><span class="p">,</span><span class="w"> </span><span class="n">Optional</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">templateService</span><span class="p">.</span><span class="n">CreateAsync</span><span class="p">(</span><span class="n">templateRequest</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="n">template</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">template</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">template</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="n">template</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">SchemaUri</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="c1">// issue credential from this template</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">JsonSerializer</span><span class="p">.</span><span class="n">Serialize</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">firstName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Jane&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">lastName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Doe&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">age</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;42&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="c1">// issueFromTemplate() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">credentialJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialService</span><span class="p">.</span><span class="n">IssueFromTemplateAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">TemplateId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">template</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">ValuesJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">values</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>

<span class="w">    </span><span class="n">credentialJson</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeNull</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">jsonDocument</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">credentialJson</span><span class="p">.</span><span class="n">DocumentJson</span><span class="p">).</span><span class="n">RootElement</span><span class="p">.</span><span class="n">EnumerateObject</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="n">jsonDocument</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Contain</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;id&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">jsonDocument</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">Contain</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;credentialSubject&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// insertItemWallet() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">InsertItemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">ItemJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialJson</span><span class="p">.</span><span class="n">DocumentJson</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">itemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="p">.</span><span class="n">ItemId</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JObject</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="s">&quot;@context&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;https://www.w3.org/2018/credentials/v1&quot;</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="s">&quot;type&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JArray</span><span class="p">(</span><span class="s">&quot;VerifiableCredential&quot;</span><span class="p">)}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Create proof from input document</span>
<span class="w">    </span><span class="c1">// createProof() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">proof</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialService</span><span class="p">.</span><span class="n">CreateProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialJson</span><span class="p">.</span><span class="n">DocumentJson</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">RevealDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">frame</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="n">Formatting</span><span class="p">.</span><span class="n">None</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>
<span class="w">    </span><span class="c1">// verifyProof() {</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialService</span><span class="p">.</span><span class="n">VerifyProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">ProofDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">proof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// }</span>
<span class="w">    </span><span class="n">valid</span><span class="p">.</span><span class="n">IsValid</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">BeTrue</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Create proof from item id</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">proof2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialService</span><span class="p">.</span><span class="n">CreateProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ItemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">itemId</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">RevealDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">frame</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="n">Formatting</span><span class="p">.</span><span class="n">None</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">valid2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialService</span><span class="p">.</span><span class="n">VerifyProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">ProofDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">proof2</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="n">valid2</span><span class="p">.</span><span class="n">IsValid</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">BeTrue</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="na">[Fact(DisplayName = &quot;Decode base64 url encoded string&quot;)]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">DecodeBase64UrlString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">encoded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;CiVodHRwczovL3RyaW5zaWMuaWQvc2VjdXJpdHkvdjEvb2Jlcm9uEnIKKnVybjp0cmluc2ljOndhbGxldHM6Vzl1dG9pVmhDZHp2RXJZRGVyOGlrRxIkODBkMTVlYTYtMTIxOS00MGZmLWE4NTQtZGI1NmZhOTlmNjMwIh51cm46dHJpbnNpYzplY29zeXN0ZW1zOmRlZmF1bHQaMJRXhevRbornRpA-HJ86WaTLGmQlOuoXSnDT_W2O3u3bV5rS5nKpgrfGKFEbRtIgjyIA&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Base64Url</span><span class="p">.</span><span class="n">Decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">actual</span><span class="p">.</span><span class="n">Should</span><span class="p">().</span><span class="n">NotBeEmpty</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>We specify links to the jsonld files:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_base_data_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">abspath</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;devops&quot;</span><span class="p">,</span> <span class="s2">&quot;testdata&quot;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_vaccine_cert_unsigned_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">abspath</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">_base_data_path</span><span class="p">(),</span> <span class="s2">&quot;vaccination-certificate-unsigned.jsonld&quot;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_vaccine_cert_frame_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">abspath</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">_base_data_path</span><span class="p">(),</span> <span class="s2">&quot;vaccination-certificate-frame.jsonld&quot;</span><span class="p">))</span>
</code></pre></div>
<p>Let's set the active profile to the clinic, and call the issuance endpoint</p>
<div class="highlight"><pre><span></span><code><span class="n">issue_response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">credentials_service</span><span class="o">.</span><span class="n">issue_credential</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">IssueRequest</span><span class="p">(</span><span class="n">document_json</span><span class="o">=</span><span class="n">credential_json</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>We specify links to the jsonld files:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">baseTestPath</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span> <span class="n">File</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">).</span><span class="na">getAbsolutePath</span><span class="p">(),</span> <span class="s">&quot;..&quot;</span><span class="p">,</span> <span class="s">&quot;devops&quot;</span><span class="p">,</span> <span class="s">&quot;testdata&quot;</span><span class="p">).</span><span class="na">toAbsolutePath</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="n">Path</span> <span class="nf">vaccineCertUnsignedPath</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">baseTestPath</span><span class="p">(),</span> <span class="s">&quot;vaccination-certificate-unsigned.jsonld&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="n">Path</span> <span class="nf">vaccineCertFramePath</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">baseTestPath</span><span class="p">(),</span> <span class="s">&quot;vaccination-certificate-frame.jsonld&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's set the active profile to the clinic, and call the issuance endpoint</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Sign a credential as the clinic and send it to Allison</span>
<span class="kd">var</span> <span class="n">credentialJson</span> <span class="o">=</span> <span class="n">Files</span><span class="p">.</span><span class="na">readString</span><span class="p">(</span><span class="n">vaccineCertUnsignedPath</span><span class="p">());</span>
<span class="kd">var</span> <span class="n">issueResult</span> <span class="o">=</span> <span class="n">credentialsService</span><span class="p">.</span><span class="na">issueCredential</span><span class="p">(</span><span class="n">VerifiableCredentials</span><span class="p">.</span><span class="na">IssueRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setDocumentJson</span><span class="p">(</span><span class="n">credentialJson</span><span class="p">).</span><span class="na">build</span><span class="p">()).</span><span class="na">get</span><span class="p">();</span>
<span class="kd">var</span> <span class="n">credential</span> <span class="o">=</span> <span class="n">issueResult</span><span class="p">.</span><span class="na">getSignedDocumentJson</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Credential: &quot;</span> <span class="o">+</span> <span class="n">credential</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">GetBasePath</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">fileName</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">runtime</span><span class="p">.</span><span class="nx">Caller</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">path</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Clean</span><span class="p">(</span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Join</span><span class="p">(</span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Dir</span><span class="p">(</span><span class="nx">fileName</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;..&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;..&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;devops&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;testdata&quot;</span><span class="p">))</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">path</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kd">func</span><span class="w"> </span><span class="nx">GetVaccineCertUnsignedPath</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Join</span><span class="p">(</span><span class="nx">GetBasePath</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;vaccination-certificate-unsigned.jsonld&quot;</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kd">func</span><span class="w"> </span><span class="nx">GetVaccineCertFramePath</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nx">Join</span><span class="p">(</span><span class="nx">GetBasePath</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;vaccination-certificate-frame.jsonld&quot;</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nx">fileContent</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ioutil</span><span class="p">.</span><span class="nx">ReadFile</span><span class="p">(</span><span class="nx">GetVaccineCertUnsignedPath</span><span class="p">())</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error reading file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>

<span class="nx">credentialService</span><span class="p">.</span><span class="nx">SetToken</span><span class="p">(</span><span class="nx">clinic</span><span class="p">)</span><span class="w"></span>
<span class="nx">credential</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">credentialService</span><span class="p">.</span><span class="nx">IssueCredential</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">IssueRequest</span><span class="p">{</span><span class="nx">DocumentJson</span><span class="p">:</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">fileContent</span><span class="p">)})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error issuing credential&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Credential:%s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">credential</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Reference: </p>
<ul>
<li>Learn more about how to <a href="../../reference/services/wallet-service/#issue-credential">issue a credential</a></li>
<li>Learn more about <a href="../../learn/credentials/">verifiable credentials</a></li>
</ul>
</div>
<hr />
<h2 id="send-credential-to-allison">Send Credential to Allison<a class="headerlink" href="#send-credential-to-allison" title="Permanent link">&para;</a></h2>
<p>At this point, the clinic can send the signed credential to Allison using any available methods. These methods can include any message exchange protocol, or a custom transport. In this case, we'll assume that the credential was delivered to Allison in an offline environment.</p>
<p>Sending credentials securely is an important part of maintaining the privacy of a credential holder. At this point we do not have a standard way of sending credentials to a wallet. There are a couple of options available. </p>
<p>First, if you've onboarded two wallets on the Trinsic platform there is a way to send credentials to a wallet via the wallet's email address. This method is a temporary fix. We recommend using a secure channel of communication within your application for sending and receiving credentials. Sending via https or another encrypted messaging protocol is critical to ensure the personal information inside the credential is not accidentally leaked. As Trinsic's platform develops, we will embed an encrypted messaging protocol called DIDComm (decentralized identifier communication) to exchange credentials between any wallet.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Dive Deeper: </p>
<ul>
<li>Learn more about how to <a href="../../reference/services/credential-service/#exchange-credentials">exchange credentials</a></li>
</ul>
</div>
<hr />
<h2 id="store-credential-in-wallet">Store Credential in Wallet<a class="headerlink" href="#store-credential-in-wallet" title="Permanent link">&para;</a></h2>
<p>Once Allison receives the credential, she or her wallet application can store it within her wallet. She can use any device that she's authorized to use with her wallet. Storing credentials securely is also important to maintaining Allison's privacy. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:6"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><input id="__tabbed_8_5" name="__tabbed_8" type="radio" /><input id="__tabbed_8_6" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Trinsic CLI</label><label for="__tabbed_8_2">Typescript</label><label for="__tabbed_8_3">C#</label><label for="__tabbed_8_4">Python</label><label for="__tabbed_8_5">Java</label><label for="__tabbed_8_6">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>trinsic --profile allison wallet insert-item --item vaccination-certificate-signed.json
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Alice stores the credential in her cloud wallet.</span>
<span class="nx">accountService</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">setAuthToken</span><span class="p">(</span><span class="nx">allison</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">itemId</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">insertItem</span><span class="p">(</span><span class="ow">new</span> <span class="nx">InsertItemRequest</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">setItemJson</span><span class="p">(</span><span class="nx">credential</span><span class="p">.</span><span class="nx">getSignedDocumentJson</span><span class="p">()));</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Set active profile to &#39;allison&#39; so we can manage her cloud wallet</span>
<span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">allison</span><span class="p">;</span><span class="w"></span>

<span class="kt">var</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">InsertItemAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">ItemJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credential</span><span class="p">.</span><span class="n">SignedDocumentJson</span><span class="p">});</span><span class="w"></span>
<span class="kt">var</span><span class="w"> </span><span class="n">itemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">insertItemResponse</span><span class="p">.</span><span class="n">ItemId</span><span class="p">;</span><span class="w"></span>
<span class="c1">// searchWallet() {</span>
<span class="kt">var</span><span class="w"> </span><span class="n">walletItems</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">SearchAsync</span><span class="p">(</span><span class="k">new</span><span class="p">());</span><span class="w"></span>
<span class="c1">// }</span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Last wallet item:\n{walletItems.Items.Last()}&quot;</span><span class="p">);</span><span class="w"></span>

<span class="c1">// searchWalletSQL() { </span>
<span class="kt">var</span><span class="w"> </span><span class="n">walletItems2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">walletService</span><span class="p">.</span><span class="n">SearchAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="n">Query</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;SELECT c.id, c.type, c.data FROM c WHERE c.type = &#39;VerifiableCredential&#39;&quot;</span><span class="p">});</span><span class="w"></span>
<span class="c1">// }</span>

<span class="c1">// SHARE CREDENTIAL</span>
<span class="c1">// Allison shares the credential with the venue.</span>
<span class="c1">// The venue has communicated with Allison the details of the credential</span>
<span class="c1">// that they require expressed as a JSON-LD frame.</span>
<span class="c1">// shareCredential() {</span>
<span class="c1">// We&#39;ll read the request frame from a file and communicate this with Allison</span>
<span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">allison</span><span class="p">;</span><span class="w"></span>

<span class="kt">var</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllTextAsync</span><span class="p">(</span><span class="n">VaccinationCertificateFrame</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Build a proof for the given request and the `itemId` we previously received</span>
<span class="c1">// which points to the stored credential</span>
<span class="kt">var</span><span class="w"> </span><span class="n">credentialProof</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">CreateProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">ItemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">itemId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">RevealDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Proof:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="p">);</span><span class="w"></span>
<span class="c1">// }</span>


<span class="c1">// VERIFY CREDENTIAL</span>
<span class="c1">// verifyCredential() {</span>
<span class="c1">// The airline verifies the credential</span>
<span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">airline</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Check for valid signature</span>
<span class="kt">var</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">VerifyProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">ProofDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Verification result: {valid.IsValid}&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="n">True</span><span class="p">(</span><span class="n">valid</span><span class="p">.</span><span class="n">IsValid</span><span class="p">);</span><span class="w"></span>
<span class="c1">// }</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>    <span class="c1"># Alice stores the credential in her cloud wallet.</span>
    <span class="n">wallet_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">allison</span>
    <span class="c1"># insertItemWallet() {</span>
    <span class="n">insert_response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wallet_service</span><span class="o">.</span><span class="n">insert_item</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="n">InsertItemRequest</span><span class="p">(</span><span class="n">item_json</span><span class="o">=</span><span class="n">credential</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># }</span>
    <span class="n">item_id</span> <span class="o">=</span> <span class="n">insert_response</span><span class="o">.</span><span class="n">item_id</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;item id = </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># searchWallet() {</span>
    <span class="n">wallet_items</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wallet_service</span><span class="o">.</span><span class="n">search</span><span class="p">()</span>
    <span class="c1"># }</span>
    <span class="c1"># searchWalletSQL() {</span>
    <span class="n">wallet_items2</span> <span class="o">=</span> <span class="k">await</span> <span class="n">wallet_service</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">SearchRequest</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;SELECT c.id, c.type, c.data FROM c WHERE c.type = &#39;VerifiableCredential&#39;&quot;</span><span class="p">))</span>
    <span class="c1"># }</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;last wallet item = </span><span class="si">{</span><span class="n">wallet_items</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># shareCredential() {</span>
    <span class="c1"># Allison shares the credential with the venue.</span>
    <span class="c1"># The venue has communicated with Allison the details of the credential</span>
    <span class="c1"># that they require expressed as a JSON-LD frame.</span>
    <span class="n">credentials_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">allison</span>
    <span class="n">wallet_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">allison</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">_vaccine_cert_frame_path</span><span class="p">(),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid2</span><span class="p">:</span>
        <span class="n">proof_request_json</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fid2</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>

    <span class="c1"># createProof() {</span>
    <span class="n">proof_response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">credentials_service</span><span class="o">.</span><span class="n">create_proof</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="n">CreateProofRequest</span><span class="p">(</span>
            <span class="n">reveal_document_json</span><span class="o">=</span><span class="n">proof_request_json</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">item_id</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># }</span>
    <span class="n">credential_proof</span> <span class="o">=</span> <span class="n">proof_response</span><span class="o">.</span><span class="n">proof_document_json</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Proof: </span><span class="si">{</span><span class="n">credential_proof</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># }</span>

    <span class="c1"># verifyCredential() {</span>
    <span class="c1"># The airline verifies the credential</span>
    <span class="n">credentials_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">airline</span>
    <span class="n">wallet_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">airline</span>
    <span class="c1"># verifyProof() {</span>
    <span class="n">verify_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">credentials_service</span><span class="o">.</span><span class="n">verify_proof</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="n">VerifyProofRequest</span><span class="p">(</span><span class="n">proof_document_json</span><span class="o">=</span><span class="n">credential_proof</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># }</span>
    <span class="n">valid</span> <span class="o">=</span> <span class="n">verify_result</span><span class="o">.</span><span class="n">is_valid</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Verification result: </span><span class="si">{</span><span class="n">valid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">valid</span> <span class="ow">is</span> <span class="kc">True</span>
    <span class="c1"># }</span>

    <span class="c1"># revokeCredential() {</span>
    <span class="c1"># update_status_response = await credentials_service.update_status(credential_status_id=status_id, revoked=True)</span>
    <span class="c1"># print(f&quot;UpdateStatusResponse: {update_status_response}&quot;)</span>
    <span class="c1"># credential_status = await credentials_service.check_status(credential_status_id=status_id)</span>
    <span class="c1"># print(f&quot;Credential_status: {credential_status}&quot;)</span>
    <span class="c1"># assert credential_status.revoked is True</span>
    <span class="c1"># }</span>
    <span class="n">credentials_service</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">wallet_service</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">account_service</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">provider_service</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">vaccine_demo</span><span class="p">())</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Alice stores the credential in her cloud wallet.</span>
<span class="kd">var</span> <span class="n">insertItemResponse</span> <span class="o">=</span> <span class="n">walletService</span><span class="p">.</span><span class="na">insertItem</span><span class="p">(</span><span class="n">UniversalWalletOuterClass</span><span class="p">.</span><span class="na">InsertItemRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setItemJson</span><span class="p">(</span><span class="n">credential</span><span class="p">).</span><span class="na">build</span><span class="p">()).</span><span class="na">get</span><span class="p">();</span>
<span class="kd">final</span> <span class="kd">var</span> <span class="n">itemId</span> <span class="o">=</span> <span class="n">insertItemResponse</span><span class="p">.</span><span class="na">getItemId</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;item id = &quot;</span> <span class="o">+</span> <span class="n">itemId</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">walletService</span><span class="p">.</span><span class="nx">SetToken</span><span class="p">(</span><span class="nx">allison</span><span class="p">)</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error setting profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">itemID</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">walletService</span><span class="p">.</span><span class="nx">InsertItem</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">InsertItemRequest</span><span class="p">{</span><span class="nx">ItemJson</span><span class="p">:</span><span class="w"> </span><span class="nx">credential</span><span class="p">.</span><span class="nx">SignedDocumentJson</span><span class="p">})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error inserting item&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;item id&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">itemID</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<p>Note down the response <code>item_id</code> printed to the console for the next step.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Reference: <a href="../../reference/services/wallet-service/#insert-item">Insert Record</a></p>
</div>
<hr />
<h2 id="create-a-proof-of-vaccination">Create a Proof of Vaccination<a class="headerlink" href="#create-a-proof-of-vaccination" title="Permanent link">&para;</a></h2>
<p>Before boarding an airplane, Allison must show a proof of vaccination. The request for this proof also comes in a form of JSON, in this case a JSON-LD frame.</p>
<p>This request can be communicated using any exchange protocol. Again, we'll assume this was done offline.</p>
<p>Let's save this request in a file named <code>vaccination-certificate-frame.jsonld</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">vaccination-certificate-frame.jsonld</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;@context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://www.w3.org/2018/credentials/v1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://w3id.org/vaccination/v1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://w3id.org/security/bbs/v1&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;VerifiableCredential&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;VaccinationCertificate&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;@explicit&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;issuer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;credentialSubject&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;@explicit&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;@type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VaccinationEvent&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;batchNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;countryOfVaccination&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>This request asks Allison to provide proof of valid vaccination certificate, including the <code>issuer</code>, <code>batchNumber</code>and <code>countryOfVaccination</code> fields.</p>
<p>Allison can use the <a href="../reference/services/wallet-service/#create-proof">Create Proof</a> functions to build a proof that will share only the requested fields.</p>
<p>Now let's create a proof for Allison. She may choose to generate this proof before going to the airport, or might generate it right as she boards.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:6"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><input id="__tabbed_10_4" name="__tabbed_10" type="radio" /><input id="__tabbed_10_5" name="__tabbed_10" type="radio" /><input id="__tabbed_10_6" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Trinsic CLI</label><label for="__tabbed_10_2">Typescript</label><label for="__tabbed_10_3">C#</label><label for="__tabbed_10_4">Python</label><label for="__tabbed_10_5">Java</label><label for="__tabbed_10_6">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Replace the <code>&lt;item_id&gt;</code> in the generate proof command below with the output from the <code>insert_item</code> above.</p>
<div class="highlight"><pre><span></span><code>trinsic --profile allison issuer create-proof --document-id <span class="s2">&quot;&lt;item-id&gt;&quot;</span> --out vaccination-certificate-partial-proof.json --reveal-document data/vaccination-certificate-frame.json
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Allison shares the credential with the venue.</span>
<span class="c1">// The venue has communicated with Allison the details of the credential</span>
<span class="c1">// that they require expressed as a JSON-LD frame.</span>
<span class="nx">credentialService</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">setAuthToken</span><span class="p">(</span><span class="nx">allison</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">proofRequestJson</span> <span class="o">=</span> <span class="nx">getVaccineCertFrameJSON</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">proof</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">credentialService</span><span class="p">.</span><span class="nx">createProof</span><span class="p">(</span><span class="ow">new</span> <span class="nx">CreateProofRequest</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">setItemId</span><span class="p">(</span><span class="nx">itemId</span><span class="p">.</span><span class="nx">getItemId</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">setRevealDocumentJson</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">proofRequestJson</span><span class="p">)));</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// We&#39;ll read the request frame from a file and communicate this with Allison</span>
<span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">allison</span><span class="p">;</span><span class="w"></span>

<span class="kt">var</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllTextAsync</span><span class="p">(</span><span class="n">VaccinationCertificateFrame</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Build a proof for the given request and the `itemId` we previously received</span>
<span class="c1">// which points to the stored credential</span>
<span class="kt">var</span><span class="w"> </span><span class="n">credentialProof</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">CreateProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">ItemId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">itemId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">RevealDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">proofRequestJson</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Proof:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Allison shares the credential with the venue.</span>
<span class="c1"># The venue has communicated with Allison the details of the credential</span>
<span class="c1"># that they require expressed as a JSON-LD frame.</span>
<span class="n">credentials_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">allison</span>
<span class="n">wallet_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">allison</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">_vaccine_cert_frame_path</span><span class="p">(),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid2</span><span class="p">:</span>
    <span class="n">proof_request_json</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fid2</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>

<span class="c1"># createProof() {</span>
<span class="n">proof_response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">credentials_service</span><span class="o">.</span><span class="n">create_proof</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">CreateProofRequest</span><span class="p">(</span>
        <span class="n">reveal_document_json</span><span class="o">=</span><span class="n">proof_request_json</span><span class="p">,</span> <span class="n">item_id</span><span class="o">=</span><span class="n">item_id</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="c1"># }</span>
<span class="n">credential_proof</span> <span class="o">=</span> <span class="n">proof_response</span><span class="o">.</span><span class="n">proof_document_json</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Proof: </span><span class="si">{</span><span class="n">credential_proof</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Allison shares the credential with the venue.</span>
<span class="c1">// The venue has communicated with Allison the details of the credential</span>
<span class="c1">// that they require expressed as a JSON-LD frame.</span>
<span class="n">credentialsService</span><span class="p">.</span><span class="na">setProfile</span><span class="p">(</span><span class="n">allison</span><span class="p">);</span>
<span class="kd">var</span> <span class="n">proofRequestJson</span> <span class="o">=</span> <span class="n">Files</span><span class="p">.</span><span class="na">readString</span><span class="p">(</span><span class="n">vaccineCertFramePath</span><span class="p">());</span>
<span class="kd">var</span> <span class="n">createProofResponse</span> <span class="o">=</span> <span class="n">credentialsService</span><span class="p">.</span><span class="na">createProof</span><span class="p">(</span><span class="n">VerifiableCredentials</span><span class="p">.</span><span class="na">CreateProofRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setItemId</span><span class="p">(</span><span class="n">itemId</span><span class="p">).</span><span class="na">setRevealDocumentJson</span><span class="p">(</span><span class="n">proofRequestJson</span><span class="p">).</span><span class="na">build</span><span class="p">()).</span><span class="na">get</span><span class="p">();</span>
<span class="kd">var</span> <span class="n">credentialProof</span> <span class="o">=</span> <span class="n">createProofResponse</span><span class="p">.</span><span class="na">getProofDocumentJson</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Proof: &quot;</span> <span class="o">+</span> <span class="n">credentialProof</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">walletService</span><span class="p">.</span><span class="nx">SetToken</span><span class="p">(</span><span class="nx">allison</span><span class="p">)</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error reading file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>

<span class="nx">fileContent2</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ioutil</span><span class="p">.</span><span class="nx">ReadFile</span><span class="p">(</span><span class="nx">GetVaccineCertFramePath</span><span class="p">())</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error reading file&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>

<span class="nx">req</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">CreateProofRequest</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">RevealDocumentJson</span><span class="p">:</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">fileContent2</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="nx">Proof</span><span class="p">:</span><span class="w">              </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">CreateProofRequest_ItemId</span><span class="p">{</span><span class="nx">ItemId</span><span class="p">:</span><span class="w"> </span><span class="nx">itemID</span><span class="p">},</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">credentialService</span><span class="p">.</span><span class="nx">SetToken</span><span class="p">(</span><span class="nx">allison</span><span class="p">)</span><span class="w"></span>
<span class="nx">credentialProof</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">credentialService</span><span class="p">.</span><span class="nx">CreateProof</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="nx">req</span><span class="p">)</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error creating proof&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Credential proof&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">credentialProof</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<p>Take a look at the proof. Notice how only the attributes included in the <code>frame</code> are included with the proof.</p>
<p>Allison sends this proof to the airline for them to verify.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Reference: <a href="../../reference/services/wallet-service/#create-proof">Create Proof</a></p>
</div>
<hr />
<h2 id="verify-proof">Verify Proof<a class="headerlink" href="#verify-proof" title="Permanent link">&para;</a></h2>
<p>Once the airline receives the proof, they can now verify it to ensure its authenticity. Because Allison sent a proof of her vaccination credential and not the credential itself, the airline only receives its required information.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:6"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><input id="__tabbed_11_4" name="__tabbed_11" type="radio" /><input id="__tabbed_11_5" name="__tabbed_11" type="radio" /><input id="__tabbed_11_6" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Trinsic CLI</label><label for="__tabbed_11_2">Typescript</label><label for="__tabbed_11_3">C#</label><label for="__tabbed_11_4">Python</label><label for="__tabbed_11_5">Java</label><label for="__tabbed_11_6">Go</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>trinsic --profile airline issuer verify-proof --proof-document vaccination-certificate-partial-proof.json
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// The airline verifies the credential</span>
<span class="nx">credentialService</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">setAuthToken</span><span class="p">(</span><span class="nx">airline</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">verifyResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">credentialService</span><span class="p">.</span><span class="nx">verifyProof</span><span class="p">(</span><span class="ow">new</span> <span class="nx">VerifyProofRequest</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">setProofDocumentJson</span><span class="p">(</span><span class="nx">proof</span><span class="p">.</span><span class="nx">getProofDocumentJson</span><span class="p">()));</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// The airline verifies the credential</span>
<span class="n">walletService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">Options</span><span class="p">.</span><span class="n">AuthToken</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">airline</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Check for valid signature</span>
<span class="kt">var</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">credentialsService</span><span class="p">.</span><span class="n">VerifyProofAsync</span><span class="p">(</span><span class="k">new</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">ProofDocumentJson</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">credentialProof</span><span class="p">.</span><span class="n">ProofDocumentJson</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
<span class="n">_testOutputHelper</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Verification result: {valid.IsValid}&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="n">True</span><span class="p">(</span><span class="n">valid</span><span class="p">.</span><span class="n">IsValid</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># The airline verifies the credential</span>
<span class="n">credentials_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">airline</span>
<span class="n">wallet_service</span><span class="o">.</span><span class="n">service_options</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="n">airline</span>
<span class="c1"># verifyProof() {</span>
<span class="n">verify_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">credentials_service</span><span class="o">.</span><span class="n">verify_proof</span><span class="p">(</span>
    <span class="n">request</span><span class="o">=</span><span class="n">VerifyProofRequest</span><span class="p">(</span><span class="n">proof_document_json</span><span class="o">=</span><span class="n">credential_proof</span><span class="p">)</span>
<span class="p">)</span>
<span class="c1"># }</span>
<span class="n">valid</span> <span class="o">=</span> <span class="n">verify_result</span><span class="o">.</span><span class="n">is_valid</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Verification result: </span><span class="si">{</span><span class="n">valid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">valid</span> <span class="ow">is</span> <span class="kc">True</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// The airline verifies the credential</span>
<span class="n">credentialsService</span><span class="p">.</span><span class="na">setProfile</span><span class="p">(</span><span class="n">airline</span><span class="p">);</span>
<span class="kd">var</span> <span class="n">verifyProofResponse</span> <span class="o">=</span> <span class="n">credentialsService</span><span class="p">.</span><span class="na">verifyProof</span><span class="p">(</span><span class="n">VerifiableCredentials</span><span class="p">.</span><span class="na">VerifyProofRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setProofDocumentJson</span><span class="p">(</span><span class="n">credentialProof</span><span class="p">).</span><span class="na">build</span><span class="p">()).</span><span class="na">get</span><span class="p">();</span>
<span class="kd">var</span> <span class="n">isValid</span> <span class="o">=</span> <span class="n">verifyProofResponse</span><span class="p">.</span><span class="na">getIsValid</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Verification result: &quot;</span> <span class="o">+</span> <span class="n">isValid</span><span class="p">);</span>
<span class="k">assert</span> <span class="n">isValid</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">walletService</span><span class="p">.</span><span class="nx">SetToken</span><span class="p">(</span><span class="nx">airline</span><span class="p">)</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error setting profile&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">valid</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">credentialService</span><span class="p">.</span><span class="nx">VerifyProof</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Background</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">VerifyProofRequest</span><span class="p">{</span><span class="nx">ProofDocumentJson</span><span class="p">:</span><span class="w"> </span><span class="nx">credential</span><span class="p">.</span><span class="nx">SignedDocumentJson</span><span class="p">})</span><span class="w"></span>
<span class="nx">failError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error verifying proof&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w"></span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Validation result&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">valid</span><span class="p">)</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="nx">valid</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">t</span><span class="p">.</span><span class="nx">Fail</span><span class="p">()</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<p>Watch for the result of <code>true</code> to know that the credential successfully passed all of the verification processes.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Reference: <a href="../../reference/services/credential-service/#verify-proof">Verify Proof</a></p>
</div>
<hr />
<!-- ## Check Issuer Status


=== "Trinsic CLI"


=== "Typescript"


=== "C#"


=== "Python"


=== "Java" -->

<hr />
<h2 id="full-source-code">Full Source Code<a class="headerlink" href="#full-source-code" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="12:4"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><input id="__tabbed_12_4" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Typescript</label><label for="__tabbed_12_2">C#</label><label for="__tabbed_12_3">Python</label><label for="__tabbed_12_4">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a href="https://github.com/trinsic-id/sdk/tree/main/web/test/VaccineDemo.test.js">browser</a>
<a href="https://github.com/trinsic-id/sdk/tree/main/node/test/VaccineDemo.ts">node</a>    </p>
</div>
<div class="tabbed-block">
<p>This sample is available in our <a href="https://github.com/trinsic-id/sdk/blob/main/dotnet/Tests/Tests.cs#L42">dotnet</a> directory. </p>
<p>&lt;!-- ??? </p>
<div class="highlight"><pre><span></span><code>You can also run the code using Replit and inspect the results.

example &quot;Run example in Replit&quot;
&lt;iframe frameborder=&quot;0&quot; width=&quot;100%&quot; height=&quot;650px&quot; src=&quot;https://replit.com/@trinsic/VaccinationSample-dotnet?lite=true&quot;&gt;&lt;/iframe&gt; --&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>This sample is available as <a href="https://github.com/trinsic-id/sdk/blob/main/python/samples/ecosystem_demo.py"><code>ecosystem_demo.py</code></a></p>
</div>
<div class="tabbed-block">
<p>This sample is available in the <a href="https://github.com/trinsic-id/sdk/tree/main/java/src/test/java">Java</a> directory.</p>
</div>
</div>
</div>
<h2 id="next-steps">Next Steps:<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Congratulations! If you've completed all the steps of this walkthrough, you've just created a mini ecosystem of issuers, verifiers, and holders all exchanging credentials. Depending on your goals, there are a couple of possible next steps to take. </p>
<ul>
<li>Try out a sample app</li>
<li>Learn more about wallets, credentials, templates, and ecosystems</li>
<li>Review the SDK Reference</li>
</ul>
<h3 id="sample-applications">Sample Applications<a class="headerlink" href="#sample-applications" title="Permanent link">&para;</a></h3>
<p>We have language specific sample applications that you can run to understand how the Trinsic SDK works in a development environment. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Typescript</label><label for="__tabbed_13_2">C#</label><label for="__tabbed_13_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The tests folder in the [browser]    </p>
</div>
<div class="tabbed-block">
<p>This sample is available in our <a href="https://github.com/trinsic-id/sdk/blob/main/dotnet/Tests/Tests.cs#L42">dotnet</a> subdirectory. You can also simply run the code using Replit and inspect the results.</p>
<!-- ??? example "Run example in Replit"
    <iframe frameborder="0" width="100%" height="650px" src="https://replit.com/@trinsic/VaccinationSample-dotnet?lite=true"></iframe> -->
</div>
<div class="tabbed-block"></div>
</div>
</div>
<p>This sample is available in the <a href="https://github.com/trinsic-id/sdk/tree/main/python/samples/vaccine_demo.py">python directory</a></p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:1"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This sample is available in our Github repo in the <a href="https://github.com/trinsic-id/sdk/tree/main/java/src/test/java">java directory</a>.</p>
</div>
</div>
</div>

              

  
    <div class="md-source-date">
      <small>
          Authors: <span class='git-page-authors git-authors'><a href='mailto:polygonguru@gmail.com'>Scott Phillips</a>, <a href='mailto:michaeldavisboyd@gmail.com'>Michael Boyd</a></span>
      </small>
    </div>
  

            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../early-adopter/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Before You Start" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Before You Start
            </div>
          </div>
        </a>
      
      
        
        <a href="../../learn/security/" class="md-footer__link md-footer__link--next" aria-label="Next: Security Overview" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Security Overview
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "navigation.instant", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.52fb055a.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../../_static/javascripts/config.js"></script>
      
    
  </body>
</html>